import{a as w,b as R}from"./chunk-X3HD5QOV.js";import{D as M,E as _,J as b}from"./chunk-KF5DAMYZ.js";import{f as j}from"./chunk-CBHB2D62.js";import{B as N,C as d,Cb as x,Kb as O,Lb as T,Ma as a,Na as p,U as n,V as s,Wb as G,ba as h,bb as L,da as g,ha as o,ia as r,ja as v,oa as y,sb as E,vb as I,x as l,xa as m,ya as S,za as C}from"./chunk-3FXFYCFX.js";function D(e,i){e&1&&(o(0,"h3"),m(1),a(2,"translate"),r()),e&2&&(n(),C(" ",p(2,1,"LOGIN.GREETING")," "))}function U(e,i){e&1&&(o(0,"h3"),m(1),a(2,"translate"),r()),e&2&&(n(),C(" ",p(2,1,"LOGIN.GREETING")," "))}var u=class e{constructor(i,t,c,A){this.auth=i;this.router=t;this.messageService=c;this.translateService=A}login=()=>{b(this.auth,new M).then(this.handleLoginSuccess).catch(this.showError)};handleLoginSuccess=()=>{let i=["COMMON.SUCCESS","LOGIN.SIGN_IN_SUCCESS"];this.translateService.get(i,{name:this.auth.currentUser?.displayName}).subscribe({next:t=>{this.messageService.add({severity:"success",summary:t["COMMON.SUCCESS"],detail:t["LOGIN.SIGN_IN_SUCCESS"]}),this.redirectToDashboard()}})};redirectToDashboard=()=>{this.router.navigateByUrl("/")};showError=i=>{console.error(i)};static \u0275fac=function(t){return new(t||e)(s(_),s(E),s(x),s(O))};static \u0275cmp=N({type:e,selectors:[["app-login"]],decls:15,vars:11,consts:[[1,"login-wrapper"],[4,"ngIf"],["href","https://github.com/NanobyteRuata/my-budget-manager","target","_blank"],["icon","pi pi-google","severity","danger",3,"onClick","label"],[1,"buttons-wrapper"]],template:function(t,c){t&1&&(o(0,"div",0),h(1,D,3,3,"h3",1),o(2,"h1"),m(3),a(4,"translate"),r(),h(5,U,3,3,"h3",1),o(6,"a",2),m(7),a(8,"translate"),r(),v(9,"br"),o(10,"p-button",3),a(11,"translate"),y("onClick",function(){return c.login()}),r(),o(12,"div",4),v(13,"app-language-changer")(14,"app-btn-theme-toggle"),r()()),t&2&&(n(),g("ngIf",c.translateService.store.currentLang==="en"),n(2),S(p(4,5,"COMMON.APP_NAME")),n(2),g("ngIf",c.translateService.store.currentLang==="mm"),n(2),S(p(8,7,"LOGIN.CODE_LINK")),n(3),g("label",p(11,9,"LOGIN.SIGN_IN")))},dependencies:[L,G,w,R,T],styles:[".login-wrapper[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}.buttons-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}"]})};var k=[{path:"",component:u}],f=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=d({type:e});static \u0275inj=l({imports:[I.forChild(k),I]})};var P=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=d({type:e});static \u0275inj=l({imports:[j,f]})};export{P as LoginModule};
